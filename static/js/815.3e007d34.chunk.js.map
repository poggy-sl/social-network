{"version":3,"file":"static/js/815.3e007d34.chunk.js","mappings":"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","sources":["components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/ProfileInfo/ProfileStatusWithHooks.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","webpack://react-kabzda-1/./src/components/Profile/MyPosts/MyPosts.module.css?831b","webpack://react-kabzda-1/./src/components/Profile/MyPosts/Post/Post.module.css?87e6","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"descriptionBlock\":\"ProfileInfo_descriptionBlock__Nn9DF\"};","import React, { useState, useEffect } from \"react\";\r\n\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n  \r\n  let [editMode, setEditMode] = useState(false);\r\n  let [status, setStatus] = useState(props.status);\r\n\r\n  useEffect(() => {\r\n    setStatus(props.status);\r\n  }, [props.status])\r\n\r\n  const activateEditMode = () => {\r\n    setEditMode(true);\r\n  }\r\n\r\n  const deactivateEditMode = () => {\r\n    setEditMode(false);\r\n    props.updateStatus(status);\r\n  }\r\n\r\n  const onStatusChange = (e) => {\r\n    setStatus(e.currentTarget.value);\r\n  }\r\n\r\n    return (\r\n      <div>\r\n        {!editMode &&\r\n          <div>\r\n            <span onDoubleClick={activateEditMode}>{props.status || \"Write your status...\"}</span>\r\n          </div>\r\n        }\r\n\r\n        {editMode &&\r\n          <div>\r\n            <input onChange={onStatusChange}\r\n                    autoFocus={true}\r\n                    onBlur={deactivateEditMode} \r\n                    value={status}/>\r\n          </div>\r\n        }\r\n      </div>\r\n    );\r\n}\r\n\r\nexport default ProfileStatusWithHooks;\r\n","import Preloader from '../../common/preloader/Preloader';\r\nimport s from \"./ProfileInfo.module.css\";\r\nimport ProfileStatusWithHooks from \"./ProfileStatusWithHooks\";\r\n\r\n\r\nconst ProfileInfo = ({profile, status, updateStatus }) => {\r\n  if(!profile){\r\n    return <Preloader />\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div className={s.descriptionBlock}>\r\n        <img src={profile.photos.large}></img>\r\n        <ProfileStatusWithHooks status={status} updateStatus={updateStatus}/>\r\n        </div>\r\n      \r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProfileInfo;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"postsBlock\":\"MyPosts_postsBlock__xocMD\",\"posts\":\"MyPosts_posts__-CQ6+\"};","// extracted by mini-css-extract-plugin\nexport default {\"item\":\"Post_item__YUDF6\"};","import s from \"./Post.module.css\";\r\n\r\nconst Post = (props) => {\r\n  return (\r\n    <div className={s.item}>\r\n      <img src=\"https://upload.wikimedia.org/wikipedia/commons/3/33/Mr._Bean_2011.jpg\"></img>\r\n      {props.message}\r\n\r\n      <div>\r\n        <span>Likes </span>\r\n        {props.likes}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Post;\r\n","import s from \"./MyPosts.module.css\";\r\nimport Post from \"./Post/Post\";\r\nimport React from \"react\";\r\nimport {Field, reduxForm} from 'redux-form';\r\nimport {required, maxLength10} from '../../../utils/validators/validators';\r\nimport {Textarea} from '../../common/FormControls/FormsControls';\r\n\r\n\r\nconst MyPosts = React.memo(props => {\r\n\r\n  let postsElements = props.posts.map( p => \r\n    <Post message={p.message} likes={p.likesCount} key={p.key} />\r\n  );\r\n\r\n  let onAddPost = (values) => {\r\n    props.addPost(values.newPostText);\r\n  }\r\n\r\n  return (\r\n    <div className={s.postsBlock}>\r\n      <h3>My post</h3>\r\n      <AddNewPostFormRedux onSubmit={onAddPost}/>\r\n      <div className={s.posts}>\r\n        { postsElements }\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n\r\nconst AddNewPostForm = (props) => {\r\n  return (\r\n    <form onSubmit={props.handleSubmit}>\r\n        <div>\r\n          <Field component={Textarea} name=\"newPostText\" placeholder=\"Enter new post...\" validate={[required, maxLength10]} />\r\n        </div>\r\n        <div>\r\n          <button>Add post</button>\r\n        </div>\r\n      </form>\r\n  )\r\n}\r\n\r\nconst AddNewPostFormRedux = reduxForm({\r\n  form: \"ProfileAddNewPostForm\"\r\n})(AddNewPostForm);\r\n\r\nexport default MyPosts;\r\n","import { addPostActionCreator} from '../../../redux/profile-reducer';\r\nimport MyPosts from \"./MyPosts\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    posts: state.profilePage.posts,\r\n    newPostText: state.profilePage.newPostText\r\n  };\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    addPost: (newPostText) => {\r\n      dispatch(addPostActionCreator(newPostText));\r\n    },\r\n  };\r\n};\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);\r\n\r\nexport default MyPostsContainer;\r\n","import ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\n\r\nconst Profile = (props) => {\r\n\r\n  return (\r\n    <div>\r\n      <ProfileInfo profile={props.profile} status={props.status} updateStatus={props.updateStatus}/>\r\n      <MyPostsContainer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import React from 'react';\r\nimport Profile from \"./Profile\";\r\nimport { connect } from \"react-redux\";\r\nimport { getUserProfile, getStatus, updateStatus } from \"../../redux/profile-reducer\";\r\nimport {withAuthRedirect} from '../../hoc/withAuthRedirect';\r\nimport { compose } from \"redux\";\r\nimport {withRouter} from \"../../hoc/withAuthRedirect\";\r\n\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n  componentDidMount() {\r\n\r\n    let userId = this.props.router.params.userId;\r\n    if (!userId) {\r\n      userId = this.props.authorizedUserId;\r\n      if(!userId){\r\n        this.props.history.push(\"/login\");\r\n      }\r\n    }\r\n\r\n    this.props.getUserProfile(userId);\r\n    this.props.getStatus(userId);\r\n  }\r\n\r\n  render(){\r\n    return(\r\n      <Profile {...this.props} profile={this.props.profile} status={this.props.status} updateStatus={this.props.updateStatus}/>\r\n    )\r\n  }\r\n  \r\n};\r\n\r\nlet mapStateToProps = (state) => ({\r\n  profile: state.profilePage.profile,\r\n  status: state.profilePage.status,\r\n  authorizedUserId: state.auth.userId,\r\n  isAuth: state.auth.isAuth\r\n});\r\n\r\n\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, { getUserProfile, getStatus, updateStatus }),\r\n  withRouter,\r\n  withAuthRedirect\r\n)(ProfileContainer);\r\n"],"names":["props","useState","editMode","setEditMode","status","setStatus","useEffect","onDoubleClick","onChange","e","currentTarget","value","autoFocus","onBlur","updateStatus","profile","className","s","src","photos","large","Preloader","message","likes","MyPosts","React","postsElements","posts","map","p","likesCount","key","AddNewPostFormRedux","onSubmit","values","addPost","newPostText","reduxForm","form","handleSubmit","Field","component","Textarea","name","placeholder","validate","required","maxLength10","connect","state","profilePage","dispatch","addPostActionCreator","ProfileContainer","userId","this","router","params","authorizedUserId","history","push","getUserProfile","getStatus","compose","auth","isAuth","withRouter","withAuthRedirect"],"sourceRoot":""}