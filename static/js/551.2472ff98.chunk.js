"use strict";(self.webpackChunkreact_kabzda_1=self.webpackChunkreact_kabzda_1||[]).push([[551],{4551:function(s,e,t){t.r(e),t.d(e,{default:function(){return q}});var i=t(1413),o=t(5671),r=t(3144),n=t(136),a=t(2882),l=t(2791),u=t(885),c=t(8830),d="ProfileInfo_descriptionBlock__Nn9DF",f="ProfileInfo_statusInput__ndb2J",h="ProfileInfo_profileInfoBlock__1+64w",p="ProfileInfo_mainProfileBlock__rz0bv",x="ProfileInfo_photoChange__GEiFl",j="ProfileInfo_mainPhoto__F7mE5",m="ProfileInfo_contact__+PjfM",v="ProfileInfo_buttonEdit__DKuT8",b=t(8838),P=t(184),g=function(s){var e=(0,l.useState)(!1),t=(0,u.Z)(e,2),i=t[0],o=t[1],r=(0,l.useState)(s.status),n=(0,u.Z)(r,2),a=n[0],c=n[1];(0,l.useEffect)((function(){c(s.status)}),[s.status]);return(0,P.jsxs)("div",{children:[!i&&(0,P.jsxs)("div",{className:f,children:[(0,P.jsx)("b",{children:"Status: "}),(0,P.jsx)("span",{onClick:function(){o(!0)},children:s.status||"Write your status..."})]}),i&&(0,P.jsx)("div",{className:f,children:(0,P.jsx)("input",{onChange:function(s){c(s.currentTarget.value)},autoFocus:!0,onBlur:function(){o(!1),s.updateStatus(a)},value:a})})]})},k=t(1045),_=t(704),I=t(8811),N=(0,_.Z)({form:"edit-profile"})((function(s){var e=s.profile,t=s.handleSubmit,i=s.error;return(0,P.jsxs)("form",{onSubmit:t,children:[(0,P.jsx)("div",{children:(0,P.jsx)("button",{className:v,children:"Save"})}),i&&(0,P.jsx)("div",{className:I.Z.formSummaryError,children:i}),(0,P.jsxs)("div",{children:[(0,P.jsx)("b",{children:"Full name"})," : ",(0,k.Gr)("fullName","Full name",k.II,[])]}),(0,P.jsxs)("div",{children:[(0,P.jsx)("b",{children:"Looking for a job"})," : ",(0,k.Gr)("lookingForAJob","",k.II,[],{type:"checkbox"})]}),(0,P.jsxs)("div",{children:[(0,P.jsx)("b",{children:"My professional skills"})," : ",(0,k.Gr)("lookingForAJobDescription","My professional skills",k.gx,[])]}),(0,P.jsxs)("div",{children:[(0,P.jsx)("b",{children:"About me"})," : ",(0,k.Gr)("aboutMe","About me",k.gx,[])]}),(0,P.jsxs)("div",{children:[(0,P.jsx)("b",{children:"Contacts"})," : ",Object.keys(e.contacts).map((function(s){return(0,P.jsx)("div",{className:m,children:(0,P.jsxs)("b",{children:[s,": ",(0,k.Gr)("contacts."+s.toLocaleLowerCase(),s,k.II,[])]})},s)}))]})]})})),S=function(s){var e=s.profile,t=s.isOwner,i=s.goToEditMode;return(0,P.jsxs)("div",{children:[t&&(0,P.jsx)("div",{children:(0,P.jsx)("button",{className:v,onClick:i,children:"Edit profile information"})}),(0,P.jsxs)("div",{children:[(0,P.jsx)("b",{children:"Full name"})," : ",e.fullName]}),(0,P.jsxs)("div",{children:[(0,P.jsx)("b",{children:"Looking for a job"})," : ",e.lookingForAJob?"yes":"no"]}),e.lookingForAJob&&(0,P.jsxs)("div",{children:[(0,P.jsx)("b",{children:"My professional skills"})," : ",e.lookingForAJobDescription]}),(0,P.jsxs)("div",{children:[(0,P.jsx)("b",{children:"About me"})," : ",e.aboutMe]}),(0,P.jsxs)("div",{children:[(0,P.jsx)("b",{children:"Contacts"})," : ",Object.keys(e.contacts).map((function(s){return(0,P.jsx)(Z,{contactTitle:s,contactValue:e.contacts[s]},s)}))]})]})},Z=function(s){var e=s.contactTitle,t=s.contactValue;return(0,P.jsxs)("div",{className:m,children:[(0,P.jsx)("b",{children:e})," : ",t]})},y=function(s){var e=s.profile,t=s.status,i=s.updateStatus,o=s.isOwner,r=s.savePhoto,n=s.saveProfile,a=(0,l.useState)(!1),f=(0,u.Z)(a,2),m=f[0],v=f[1],k=l.useRef(null);if(!e)return(0,P.jsx)(c.Z,{});return(0,P.jsxs)("div",{className:p,children:[(0,P.jsxs)("div",{className:d,children:[(0,P.jsx)("img",{src:e.photos.large||b,className:j}),o&&(0,P.jsxs)("div",{children:[(0,P.jsx)("div",{className:x,onClick:function(){return k.current.click()}}),(0,P.jsx)("input",{type:"file",onChange:function(s){s.target.files.length&&r(s.target.files[0])},ref:k,style:{display:"none"}})]}),(0,P.jsx)(g,{status:t,updateStatus:i})]}),(0,P.jsx)("div",{className:h,children:m?(0,P.jsx)(N,{initialValues:e,onSubmit:function(s){n(s).then((function(){v(!1)}))},profile:e}):(0,P.jsx)(S,{goToEditMode:function(){v(!0)},profile:e,isOwner:o})})]})},w=t(6070),C=t(2982),F=t(6744),A="Post_item__YUDF6",M="Post_postText__Q74UC",T=t(1632),E=t(9806),D=function(s){return(0,P.jsxs)("div",{className:A,children:[(0,P.jsxs)("div",{children:[(0,P.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/commons/3/33/Mr._Bean_2011.jpg"}),(0,P.jsxs)("div",{children:[(0,P.jsx)(E.G,{icon:T.m6i})," ",s.likes]})]}),(0,P.jsx)("div",{className:M,children:s.message})]})},O=t(6139),B=t(5304),G=l.memo((function(s){var e=(0,C.Z)(s.posts).reverse().map((function(s){return(0,P.jsx)(D,{message:s.message,likes:s.likesCount},s.id)}));return(0,P.jsxs)("div",{className:F.Z.postsBlock,children:[(0,P.jsx)("h3",{className:F.Z.title,children:"My posts"}),(0,P.jsx)(J,{onSubmit:function(e){s.addPost(e.newPostText)}}),(0,P.jsx)("div",{className:F.Z.posts,children:e})]})})),J=(0,_.Z)({form:"ProfileAddNewPostForm"})((function(s){return(0,P.jsxs)("form",{onSubmit:s.handleSubmit,children:[(0,P.jsx)("div",{children:(0,P.jsx)(O.Z,{className:F.Z.enterPost,component:k.gx,name:"newPostText",placeholder:"Enter new post...",validate:[B.C1,B.C5]})}),(0,P.jsx)("div",{children:(0,P.jsx)("button",{className:F.Z.addPostButton,children:"Add post"})})]})})),U=G,z=t(8687),L=(0,z.$j)((function(s){return{posts:s.profilePage.posts,newPostText:s.profilePage.newPostText}}),(function(s){return{addPost:function(e){s((0,w.Wl)(e))}}}))(U),V=function(s){return(0,P.jsxs)("div",{children:[(0,P.jsx)(y,{profile:s.profile,status:s.status,updateStatus:s.updateStatus,isOwner:s.isOwner,savePhoto:s.savePhoto,saveProfile:s.saveProfile}),(0,P.jsx)(L,{})]})},R=t(1548),W=t(7781),$=function(s){(0,n.Z)(t,s);var e=(0,a.Z)(t);function t(){return(0,o.Z)(this,t),e.apply(this,arguments)}return(0,r.Z)(t,[{key:"refreshProfile",value:function(){var s=this.props.router.params.userId;s||(s=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(s),this.props.getStatus(s)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(s,e,t){this.props.router.params.userId!=s.router.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,P.jsx)(V,(0,i.Z)((0,i.Z)({},this.props),{},{isOwner:!this.props.router.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto}))}}]),t}(l.Component),q=(0,W.qC)((0,z.$j)((function(s){return{profile:s.profilePage.profile,status:s.profilePage.status,authorizedUserId:s.auth.userId,isAuth:s.auth.isAuth}}),{getUserProfile:w.et,getStatus:w.lR,updateStatus:w.Nf,savePhoto:w.Ju,saveProfile:w.Ii}),R.E,R.D)($)}}]);
//# sourceMappingURL=551.2472ff98.chunk.js.map